<html>
<body>
<canvas id="canvas" width="1800" height="1800">s</canvas>
<script>

function node(name, access_count) {
	this.children=[];
	this.name=name;
	this.access_count=access_count;
	this.parent=null;
}


node.prototype.add_child=function(child) {
  this.children.push(child);	
  child.parent=this;
}


node.prototype.get_qname=function() {
   var qname="";
	if (this.parent == null) {
		 qname=this.name;
	} else {
		 qname=this.parent.get_qname() + '.' + this.name;
	}
	return qname
}

function draw_node(node, canvas, x, y, size, total) {
	var ctx = canvas.getContext("2d");
	ctx.fillStyle = "rgba(255,0,0," + (node.access_count / total) + ")";
	ctx.beginPath();
	ctx.rect(x, y, size, size);
	ctx.closePath();
	ctx.fill();
	
	ctx.fillStyle    = "rgba(0,0,0," + (node.access_count / total) + ")"
	ctx.font         = 'italic ' + (size / 3) + 'px sans-serif';
	ctx.textBaseline = 'top';
	ctx.fillText  (node.name + " (" + node.access_count + ")" , x + 2, y + 2);
	
	
	var my_children = node.children;
	var y_offset=my_children.length;
	
	var i;
	var child_y_offset=0;
	for (i=0; i < my_children.length; i++) {
		child_y_offset+=draw_node(my_children[i], canvas, x + size, y + (size * (child_y_offset+1 +i)), size, total);
	}
	return y_offset;
	
}






bat=new node("bat", 5); 
foo=new node("foo", 7);
bar=new node("bar", 12);
bong=new node("bong", 2);
bing=new node("bing", 2);  
com2=new node("com", 14);

com2.add_child(bar);
com2.add_child(bong);
bong.add_child(bing);
bar.add_child(foo);
bar.add_child(bat);


com=new node('com', 40);
com_slamd=new node('slamd', 40);
com_slamd_http=new node('http', 36);
com_slamd_http_HTTPRequest=new node('HTTPRequest', 12);
com_slamd_http_HTTPRequest__init___ZLjava_net_URL__V_=new node('<init>((ZLjava/net/URL;)V)', 4);
com_slamd_http_HTTPRequest.add_child(com_slamd_http_HTTPRequest__init___ZLjava_net_URL__V_);
com_slamd_http_HTTPRequest_generateHTTPRequest__Lcom_slamd_http_HTTPClient__Ljava_lang_String__=new node('generateHTTPRequest((Lcom/slamd/http/HTTPClient;)Ljava/lang/String;)', 4);
com_slamd_http_HTTPRequest.add_child(com_slamd_http_HTTPRequest_generateHTTPRequest__Lcom_slamd_http_HTTPClient__Ljava_lang_String__);
com_slamd_http_HTTPRequest_getBaseURL___Ljava_net_URL__=new node('getBaseURL(()Ljava/net/URL;)', 4);
com_slamd_http_HTTPRequest.add_child(com_slamd_http_HTTPRequest_getBaseURL___Ljava_net_URL__);
com_slamd_http.add_child(com_slamd_http_HTTPRequest);
com_slamd_http_HTTPClient=new node('HTTPClient', 20);
com_slamd_http_HTTPClient__init____V_=new node('<init>(()V)', 4);
com_slamd_http_HTTPClient.add_child(com_slamd_http_HTTPClient__init____V_);
com_slamd_http_HTTPClient_sendRequest__Lcom_slamd_http_HTTPRequest__Lcom_slamd_http_HTTPResponse__=new node('sendRequest((Lcom/slamd/http/HTTPRequest;)Lcom/slamd/http/HTTPResponse;)', 4);
com_slamd_http_HTTPClient.add_child(com_slamd_http_HTTPClient_sendRequest__Lcom_slamd_http_HTTPRequest__Lcom_slamd_http_HTTPResponse__);
com_slamd_http_HTTPClient_sendRequestInternal__Lcom_slamd_http_HTTPRequest_Z_Lcom_slamd_http_HTTPResponse__=new node('sendRequestInternal((Lcom/slamd/http/HTTPRequest;Z)Lcom/slamd/http/HTTPResponse;)', 4);
com_slamd_http_HTTPClient.add_child(com_slamd_http_HTTPClient_sendRequestInternal__Lcom_slamd_http_HTTPRequest_Z_Lcom_slamd_http_HTTPResponse__);
com_slamd_http_HTTPClient_getCookies__Ljava_net_URL___Lcom_slamd_http_HTTPCookie__=new node('getCookies((Ljava/net/URL;)[Lcom/slamd/http/HTTPCookie;)', 4);
com_slamd_http_HTTPClient.add_child(com_slamd_http_HTTPClient_getCookies__Ljava_net_URL___Lcom_slamd_http_HTTPCookie__);
com_slamd_http_HTTPClient_readResponse__Ljava_net_URL_Ljava_io_InputStream_Z_Lcom_slamd_http_HTTPResponse__=new node('readResponse((Ljava/net/URL;Ljava/io/InputStream;Z)Lcom/slamd/http/HTTPResponse;)', 4);
com_slamd_http_HTTPClient.add_child(com_slamd_http_HTTPClient_readResponse__Ljava_net_URL_Ljava_io_InputStream_Z_Lcom_slamd_http_HTTPResponse__);
com_slamd_http.add_child(com_slamd_http_HTTPClient);
com_slamd_http_HTTPException=new node('HTTPException', 4);
com_slamd_http_HTTPException__init___Ljava_lang_String_Ljava_lang_Throwable__V_=new node('<init>((Ljava/lang/String;Ljava/lang/Throwable;)V)', 4);
com_slamd_http_HTTPException.add_child(com_slamd_http_HTTPException__init___Ljava_lang_String_Ljava_lang_Throwable__V_);
com_slamd_http.add_child(com_slamd_http_HTTPException);
com_slamd.add_child(com_slamd_http);
com_slamd_asn1=new node('asn1', 4);
com_slamd_asn1_ASN1Element=new node('ASN1Element', 4);
com_slamd_asn1_ASN1Element_getBytes__Ljava_lang_String___B_=new node('getBytes((Ljava/lang/String;)[B)', 4);
com_slamd_asn1_ASN1Element.add_child(com_slamd_asn1_ASN1Element_getBytes__Ljava_lang_String___B_);
com_slamd_asn1.add_child(com_slamd_asn1_ASN1Element);
com_slamd.add_child(com_slamd_asn1);
com.add_child(com_slamd);


//draw_node(com, canvas, 10, 10, 100, 14);
draw_node(com, canvas, 10, 10, 50, 40);
</script>
</body>
</html>